# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥—É Quantum-PCI

## –û–±–∑–æ—Ä

–î–∞–Ω–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –¥–ª—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤ Quantum-PCI, –æ—Å–Ω–æ–≤–∞–Ω–Ω—É—é –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è—Ö –¥—Ä–∞–π–≤–µ—Ä–∞ `ptp_ocp`.

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

–°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ **—Å—Ç—Ä–æ–≥–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞** –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ –¥—Ä–∞–π–≤–µ—Ä–∞ `ptp_ocp`. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:

### ‚úÖ –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏:
- **PTP offset/drift** - –∏–∑ sysfs (`clock_status_offset`, `clock_status_drift`)
- **GNSS sync —Å—Ç–∞—Ç—É—Å** - –±–∞–∑–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- **SMA –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - —Ç–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–∑—ä—ë–º–æ–≤
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ** - —Å–µ—Ä–∏–π–Ω—ã–π –Ω–æ–º–µ—Ä, –∏—Å—Ç–æ—á–Ω–∏–∫ –≤—Ä–µ–º–µ–Ω–∏

### ‚ùå –ù–ï –¥–æ—Å—Ç—É–ø–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏:
- **–î–µ—Ç–∞–ª—å–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã** - –¥—Ä–∞–π–≤–µ—Ä –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∏—Ç–∞–Ω–∏—è –∏ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–π** - –¥—Ä–∞–π–≤–µ—Ä –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç  
- **–î–µ—Ç–∞–ª—å–Ω—ã–π GNSS** (—Å–ø—É—Ç–Ω–∏–∫–∏, –∫–∞—á–µ—Å—Ç–≤–æ) - –¥—Ä–∞–π–≤–µ—Ä –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ LED/FPGA/–∞–ø–ø–∞—Ä–∞—Ç—É—Ä—ã** - –¥—Ä–∞–π–≤–µ—Ä –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Web Browser   ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ  Flask API       ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ  ptp_ocp driver ‚îÇ
‚îÇ   (Dashboard)   ‚îÇ    ‚îÇ  (Port 8080)     ‚îÇ    ‚îÇ  (sysfs)        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                ‚îÇ
                                ‚ñº
                       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                       ‚îÇ  phc_ctl tool    ‚îÇ
                       ‚îÇ  (PTP metrics)   ‚îÇ
                       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# Ubuntu/Debian
sudo apt update
sudo apt install python3 python3-pip

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python –ø–∞–∫–µ—Ç–æ–≤
cd quantum-pci-monitoring
pip3 install -r requirements.txt
```

### 2. –ó–∞–ø—É—Å–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

```bash
# –ó–∞–ø—É—Å–∫ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–≥–æ API –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
python3 api/quantum-pci-realistic-api.py
```

### 3. –î–æ—Å—Ç—É–ø –∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ endpoints:

- **üìä Realistic Dashboard**: http://localhost:8080/realistic-dashboard
- **üîß API endpoints**: http://localhost:8080/api/
- **üó∫Ô∏è Roadmap**: http://localhost:8080/api/roadmap
- **üè† Main Page**: http://localhost:8080/

## API Endpoints

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏

```bash
# –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –º–µ—Ç—Ä–∏–∫–∏
curl http://localhost:8080/api/metrics

# –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç—É—Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤
curl http://localhost:8080/api/devices

# –ü–æ–ª—É—á–∏—Ç—å PTP –º–µ—Ç—Ä–∏–∫–∏
curl http://localhost:8080/api/ptp

# –ü–æ–ª—É—á–∏—Ç—å GNSS —Å—Ç–∞—Ç—É—Å
curl http://localhost:8080/api/gnss
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```bash
# –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é SMA
curl http://localhost:8080/api/sma

# –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–∏—Å—Ç–µ–º–µ
curl http://localhost:8080/api/system

# –ü–æ–ª—É—á–∏—Ç—å roadmap –ø—Ä–æ–µ–∫—Ç–∞
curl http://localhost:8080/api/roadmap
```

## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API

### Python

```python
import requests
import json

# –ü–æ–ª—É—á–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫
response = requests.get('http://localhost:8080/api/metrics')
if response.status_code == 200:
    metrics = response.json()
    print(f"PTP Offset: {metrics.get('ptp', {}).get('offset_ns', 'N/A')} ns")
    print(f"GNSS Sync: {metrics.get('gnss', {}).get('sync', 'N/A')}")
else:
    print(f"Error: {response.status_code}")
```

### Bash

```bash
#!/bin/bash

# –ü–æ–ª—É—á–µ–Ω–∏–µ –∏ –ø–∞—Ä—Å–∏–Ω–≥ –º–µ—Ç—Ä–∏–∫
METRICS=$(curl -s http://localhost:8080/api/metrics)
OFFSET=$(echo $METRICS | jq -r '.ptp.offset_ns // "N/A"')
SYNC=$(echo $METRICS | jq -r '.gnss.sync // "N/A"')

echo "PTP Offset: $OFFSET ns"
echo "GNSS Sync: $SYNC"
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

```javascript
const socket = io('http://localhost:8080');

socket.on('metrics_update', function(data) {
    console.log('New metrics:', data);
    updateDashboard(data);
});

socket.on('alert', function(alert) {
    console.log('Alert:', alert);
    showAlert(alert);
});
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∞–ª–µ—Ä—Ç—ã

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∞–ª–µ—Ä—Ç—ã –ø—Ä–∏:

- **PTP Offset** > 1000ns (warning), > 10000ns (critical)
- **PTP Drift** > 100ppb (warning), > 1000ppb (critical)
- **GNSS –ø–æ—Ç–µ—Ä—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏**

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ —Å–æ–±—ã—Ç–∏—è –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤:
- **–ö–æ–Ω—Å–æ–ª—å** - –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- **WebSocket** - –¥–ª—è real-time –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- **API logs** - –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ `/api/logs`

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: "No devices found"

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
ls /sys/class/timecard/

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
sudo chmod 644 /sys/class/timecard/ocp*/

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥—Ä–∞–π–≤–µ—Ä
lsmod | grep ptp_ocp
```

### –ü—Ä–æ–±–ª–µ–º–∞: "API –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç"

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—Ç
netstat -tulnp | grep 8080

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
ps aux | grep quantum-pci-monitor

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
journalctl -f | grep quantum-pci
```

### –ü—Ä–æ–±–ª–µ–º–∞: "–ú–µ—Ç—Ä–∏–∫–∏ –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è"

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å sysfs
cat /sys/class/timecard/ocp0/clock_status_offset

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å phc_ctl
phc_ctl /dev/ptp0 cmp

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞
ls -la /dev/ptp*
```

## –†–∞–∑–≤–∏—Ç–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–ü–æ–¥—Ä–æ–±–Ω—ã–π –ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:
http://localhost:8080/api/roadmap

–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- **–≠—Ç–∞–ø 1**: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ sysfs –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥—Ä–∞–π–≤–µ—Ä–∞
- **–≠—Ç–∞–ø 2**: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- **–≠—Ç–∞–ø 3**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å GNSS –º–æ–¥—É–ª–µ–º
- **–≠—Ç–∞–ø 4**: –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥—Ä–∞–π–≤–µ—Ä–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º
4. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Ä–∞–∑–¥–µ–ª—É "–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫"

–°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ä–∞–∑–≤–∏–≤–∞–µ—Ç—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ –¥—Ä–∞–π–≤–µ—Ä–∞ –∏ –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã.
